(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(t){if(t.ep)return;t.ep=!0;const i=n(t);fetch(t.href,i)}})();const g=new CustomEvent("updatePage");function q(e){if(typeof e!="object"||e===null)throw new Error("Invalid recipe data: Must be an object.");const{ID:r,Name:n,Description:a,requiredKnowlegde:t,base:i,mana:s,resources:y,difficulty:f,duration:k}=e;if(typeof r!="string")throw new Error("Invalid 'ID': Must be a string.");if(typeof n!="string")throw new Error("Invalid 'Name': Must be a string.");if(typeof a!="string")throw new Error("Invalid 'Description': Must be a string.");if(typeof t!="string")throw new Error("Invalid 'requiredKnowlegde': Must be a string.");if(!Array.isArray(i)||!i.every(I=>typeof I=="string"))throw new Error("Invalid 'base': Must be an array of strings.");if(typeof s!="number"||s<0)throw new Error("Invalid 'mana': Must be a non-negative number.");if(typeof y!="number"||y<0)throw new Error("Invalid 'resources': Must be a non-negative number.");if(typeof f!="number"||f<0)throw new Error("Invalid 'difficulty': Must be a non-negative number.");if(typeof k!="number"||k<-1)throw new Error("Invalid 'duration': Must be a bigger than -1 number.");const b=localStorage.getItem(r);let h=0;return b!=null&&(h=Number.parseInt(b)),{ID:r,Name:n,Description:a,requiredKnowlegde:t,base:i,mana:s,resources:y,difficulty:f,duration:k,quantity:h}}function N(e){if(!Array.isArray(e))throw new Error("Invalid recipe data: Must be an array of recipes.");return e.map((r,n)=>{try{return q(r)}catch(a){throw new Error(`Error in recipe at index ${n}: ${a.message}`)}})}function K(e){const r=o("div","recipe "+L(e.requiredKnowlegde));return r.appendChild(C(e)),r.appendChild(z(e)),r.appendChild(S(e)),r.appendChild(E(e)),r}function o(e,r,n){const a=document.createElement(e);return a.className=r,n&&(a.textContent=n),a}function C(e){const r=o("div","recipe__header");r.appendChild(o("h2","recipe__name",e.Name));const n=o("div","parameter parameter--right parameter--tall");n.appendChild(o("p","parameter__name name--large","Obor")),n.appendChild(o("span","value value--small",e.requiredKnowlegde)),r.appendChild(n);const a=o("div","parameter parameter--wide");return a.appendChild(o("p","value value--small value--color value--description",e.Description)),r.appendChild(a),r}function z(e){const r=o("div","recipe__body"),n=o("div","parameter parameter--first parameter--tall");n.appendChild(o("p","parameter__name name--large","Základ"));const a=o("span","value","");return e.base.forEach((t,i)=>{a.textContent+=t,i<e.base.length-1&&(a.textContent+=", ")}),n.appendChild(a),r.appendChild(n),r.appendChild(u("Mana",e.mana)),r.appendChild(u("Suroviny",e.resources)),r.appendChild(u("Obtížnost",e.difficulty)),r.appendChild(u("Trvání",e.duration)),r}function u(e,r){const n=o("div","parameter"),a=o("p","");return a.appendChild(o("span","parameter__name",e+": ")),a.appendChild(o("span","value value--number",r.toString())),n.appendChild(a),n}function S(e){const r=o("div","recipe__sum"),n=u("Celkem Many",e.mana*e.quantity);n.childNodes[0].childNodes[1].classList.add("manaRecipeSum"),r.appendChild(n);const t=u("Celkem Many",e.resources*e.quantity);return n.childNodes[0].childNodes[1].classList.add("resourcesRecipeSum"),r.appendChild(t),r}function E(e){const r=o("div","recipe__control"),n=o("button","control__button","+"),a=o("span","value value--number counter",e.quantity.toString()),t=o("button","control__button","-");return n.addEventListener("click",()=>{e.quantity++,localStorage.setItem(e.ID,e.quantity.toString()),a.textContent=e.quantity.toString(),document.dispatchEvent(g)}),t.addEventListener("click",()=>{e.quantity-1>=0&&(e.quantity--,localStorage.setItem(e.ID,e.quantity.toString()),a.textContent=e.quantity.toString(),document.dispatchEvent(g))}),r.appendChild(n),r.appendChild(a),r.appendChild(t),r}function L(e){switch(e){case"Základní":return"recipe--basic";case"Pokročilý":return"recipe--advanced";case"Lektvary a elixíry":return"recipe--potions";case"Nestabilní substance":return"recipe--explosives";case"Magické předměty":return"recipe--magic-items";case"Alchymistická anatomie":return"recipe--anatomy";case"Hvězdné sestavy":return"recipe--stars";case"Krystaly a energie":return"recipe--crystals";default:return""}}const M=JSON.parse('[{"ID":"001","Name":"Bomba","Description":"železná koule s kusem zápalné šňůry","requiredKnowlegde":"Základní","base":["železná koule","zápalná šňůra"],"mana":0,"resources":35,"difficulty":8,"duration":0},{"ID":"002","Name":"Dýmovnice","Description":"málá, obvykle dřevěná nebo hliněná trubička","requiredKnowlegde":"Základní","base":["listí","zápalná šňůra"],"mana":0,"resources":25,"difficulty":6,"duration":0},{"ID":"003","Name":"Kouzelný inkoust","Description":"flakón s upraveným olejem libovolné barvy","requiredKnowlegde":"Základní","base":["olej"],"mana":4,"resources":6,"difficulty":6,"duration":0},{"ID":"004","Name":"Lakmusový papírek (10ks)","Description":"dlouhý proužek pergamenu","requiredKnowlegde":"Základní","base":["pergamen"],"mana":1,"resources":5,"difficulty":6,"duration":0},{"ID":"005","Name":"Lektvar medvědí síli","Description":"hnědá barva, odporně slaná chuť, silný zápach","requiredKnowlegde":"Základní","base":["krev šelmy"],"mana":30,"resources":35,"difficulty":6,"duration":30},{"ID":"006","Name":"Lektvar mucholapka","Description":"zlatavá barva, sladká chuť, voní","requiredKnowlegde":"Základní","base":["pivo","pryskyřice"],"mana":15,"resources":10,"difficulty":8,"duration":15},{"ID":"007","Name":"Lektvar neutralizace","Description":"jasně oranžová, slabě bublající tekutina bez chuti a zápachu","requiredKnowlegde":"Základní","base":["3 dcl lihu"],"mana":5,"resources":10,"difficulty":8,"duration":0},{"ID":"008","Name":"Lektvar rychlost","Description":"bleděmodrá tekunita, nasádlá chuť, vůně máty","requiredKnowlegde":"Základní","base":["voda","ještěří ocásky"],"mana":12,"resources":20,"difficulty":8,"duration":1},{"ID":"009","Name":"Lektvar ranhojič","Description":"rudá tekutina, chuť i vůně po skořici, hřebíčku a víně","requiredKnowlegde":"Základní","base":["víno"],"mana":5,"resources":15,"difficulty":6,"duration":0},{"ID":"010","Name":"Lektvar změny velikosti","Description":"oranžová barva, octová kyselá chuť, pach moči","requiredKnowlegde":"Základní","base":["koňská nebo oslí moč"],"mana":25,"resources":30,"difficulty":8,"duration":30},{"ID":"011","Name":"Univerzální protijed","Description":"tmavě šedá tekutina, hořká chuť, bez zápachu","requiredKnowlegde":"Základní","base":["voda","uhlí"],"mana":5,"resources":10,"difficulty":6,"duration":0},{"ID":"012","Name":"Zápalná šňůra","Description":"hořlavé vlákno","requiredKnowlegde":"Základní","base":["lano / šňůra / liána"],"mana":0,"resources":5,"difficulty":6,"duration":1},{"ID":"013","Name":"Zředěný líh","Description":"čirá tekutina","requiredKnowlegde":"Základní","base":["jakýkoliv alkohol"],"mana":0,"resources":10,"difficulty":6,"duration":0},{"ID":"014","Name":"Boty Vodoměrky","Description":"boty s upravenou podrážkou pro chůzi po hladině","requiredKnowlegde":"Pokročilý","base":["boty","10x vodoměrky"],"mana":85,"resources":200,"difficulty":10,"duration":0},{"ID":"015","Name":"Čarovný štít","Description":"štít potřený speciální ochrannou vrstvou","requiredKnowlegde":"Pokročilý","base":["štít"],"mana":80,"resources":45,"difficulty":8,"duration":0},{"ID":"016","Name":"Chodecký Plášť","Description":"plášť s kapucí","requiredKnowlegde":"Pokročilý","base":["plášť"],"mana":40,"resources":50,"difficulty":8,"duration":0},{"ID":"017","Name":"Jed Dorfův Spánek","Description":"černá tekutina, slabá vůně a chuť po máku","requiredKnowlegde":"Pokročilý","base":["voda","mák"],"mana":0,"resources":30,"difficulty":8,"duration":240},{"ID":"018","Name":"Jed Vosí žihadlo","Description":"černá tekutina, slabá vůně a hořká chuť","requiredKnowlegde":"Pokročilý","base":["voda","jedovaté byliny"],"mana":0,"resources":40,"difficulty":8,"duration":0},{"ID":"019","Name":"Kouzelný luk","Description":"luk napuštěný magickým olejem a vybavený zvláštní tětivou","requiredKnowlegde":"Pokročilý","base":["voda","jedovaté byliny"],"mana":40,"resources":100,"difficulty":8,"duration":0},{"ID":"020","Name":"Krvavé ostří","Description":"věčně ostrá dýka","requiredKnowlegde":"Pokročilý","base":["dýka"],"mana":30,"resources":30,"difficulty":8,"duration":0},{"ID":"021","Name":"Lektvar abéma","Description":"průsvitná vazká tekutina, bez chuti a zápachu","requiredKnowlegde":"Pokročilý","base":["vaječný bílek","mléko"],"mana":30,"resources":20,"difficulty":12,"duration":30},{"ID":"022","Name":"Lektvar mrazužár","Description":"čirá tekutina, hořká chuť, slabá vůně citronu","requiredKnowlegde":"Pokročilý","base":["líh / olej","divizna (proti chladu) nebo heřmánek (proti žáru)"],"mana":35,"resources":60,"difficulty":8,"duration":15},{"ID":"023","Name":"Lektvar životabudič","Description":"černá tekutina, slabá bylinná vůně, velmi sladká chuť pro karamelu","requiredKnowlegde":"Pokročilý","base":["rum","býčí žlázy"],"mana":40,"resources":15,"difficulty":8,"duration":120},{"ID":"038","Name":"Prsten varování","Description":"prsten se skleněným očkem","requiredKnowlegde":"Pokročilý","base":["prsten","sklíčko","fetiš"],"mana":40,"resources":35,"difficulty":8,"duration":0},{"ID":"024","Name":"Sliz","Description":"slizká zlatavá hmota","requiredKnowlegde":"Pokročilý","base":["pryskyřice"],"mana":5,"resources":10,"difficulty":8,"duration":0},{"ID":"025","Name":"Amulet many","Description":"amulet s modrým ametystem","requiredKnowlegde":"Krystaly a energie","base":["přívěšek","ametyst"],"mana":140,"resources":148,"difficulty":12,"duration":0},{"ID":"026","Name":"Caldorova maska","Description":"papírová nebo dřevěná maska","requiredKnowlegde":"Magické předměty","base":["maska"],"mana":90,"resources":60,"difficulty":14,"duration":15},{"ID":"027","Name":"Čelenka porozumění","Description":"stříbrný diadém","requiredKnowlegde":"Hvězdné sestavy","base":["čelenka"],"mana":50,"resources":100,"difficulty":10,"duration":0},{"ID":"028","Name":"Černé světlo","Description":"skleněná koule naplněná prachem","requiredKnowlegde":"Nestabilní substance","base":["fosfor","skleněná koule"],"mana":15,"resources":20,"difficulty":10,"duration":0},{"ID":"029","Name":"Čočky nočního vidění","Description":"oční čočky","requiredKnowlegde":"Alchymistická anatomie","base":["oči nočního tvora"],"mana":65,"resources":30,"difficulty":10,"duration":0},{"ID":"030","Name":"Elixír metamorfózy","Description":"fialovo-žlutá hustá tekutina, vůně i chuť po ostružinách","requiredKnowlegde":"Lektvary a elixíry","base":["0,1 l lihu","vzorek cíle"],"mana":70,"resources":12,"difficulty":12,"duration":360},{"ID":"031","Name":"Elixír proti lykantropii","Description":"hnědá průhledná barva, bez zápachu, sladkokyselá chuť","requiredKnowlegde":"Lektvary a elixíry","base":["0,1 l lihu","vlčí mor"],"mana":40,"resources":35,"difficulty":14,"duration":30},{"ID":"032","Name":"Elixír sedmibýlí","Description":"zlatavá barva, vůně a chuť sušených bylin","requiredKnowlegde":"Lektvary a elixíry","base":["0,1 l lihu","byliny"],"mana":18,"resources":22,"difficulty":10,"duration":0},{"ID":"033","Name":"Elixír zapomění","Description":"světle šedá, lehce hořká tekutina","requiredKnowlegde":"Lektvary a elixíry","base":["0,1 l lihu","makovice"],"mana":35,"resources":10,"difficulty":8,"duration":15},{"ID":"034","Name":"Gaistova Lampa","Description":"stíněná lucerna s čočkou na jedné straně","requiredKnowlegde":"Magické předměty","base":["broušená čočka","lucerna"],"mana":60,"resources":60,"difficulty":10,"duration":1},{"ID":"035","Name":"Kovožrout","Description":"flakón s lehce narůžovělou tekutinou, mírně hořká chuť, oříškový vůně","requiredKnowlegde":"Nestabilní substance","base":["kyselina"],"mana":45,"resources":40,"difficulty":8,"duration":0},{"ID":"036","Name":"Létající koště","Description":"koště se schopností létat","requiredKnowlegde":"Hvězdné sestavy","base":["koště"],"mana":315,"resources":15,"difficulty":14,"duration":0},{"ID":"037","Name":"Kystal Kvantogen","Description":"krystal upevněný v kovovém jehlanu","requiredKnowlegde":"Krystaly a energie","base":["drahokam"],"mana":40,"resources":60,"difficulty":12,"duration":1},{"ID":"039","Name":"Meč požíreč duší","Description":"meč s čepelí rudé až bronzové barvy","requiredKnowlegde":"Hvězdné sestavy","base":["meč"],"mana":130,"resources":110,"difficulty":12,"duration":1440},{"ID":"040","Name":"Naslouchátko","Description":"trychtýř k nasazení do ucha","requiredKnowlegde":"Alchymistická anatomie","base":["ucho"],"mana":112,"resources":60,"difficulty":8,"duration":0},{"ID":"041","Name":"Nekrozor","Description":"dva tubusy s čočkami uvnitř","requiredKnowlegde":"Magické předměty","base":["broušené čočky ze skla nebo drahokamu","krystal","2 tubusy"],"mana":50,"resources":90,"difficulty":10,"duration":1},{"ID":"042","Name":"Plamenný meč","Description":"meč se zelenými krystalky","requiredKnowlegde":"Nestabilní substance","base":["meč"],"mana":130,"resources":70,"difficulty":12,"duration":1},{"ID":"043","Name":"Plášť chameleon","Description":"plášť s kapucí","requiredKnowlegde":"Magické předměty","base":["plášť"],"mana":150,"resources":70,"difficulty":12,"duration":1},{"ID":"044","Name":"Prsten blesku","Description":"prsten s vybroušený m krystalem","requiredKnowlegde":"Krystaly a energie","base":["prsten","krystal"],"mana":140,"resources":120,"difficulty":10,"duration":1},{"ID":"045","Name":"Respirátor","Description":"kožená torna s trubičkou","requiredKnowlegde":"Alchymistická anatomie","base":["plíce","kožená torna"],"mana":40,"resources":185,"difficulty":8,"duration":15},{"ID":"046","Name":"Sibériovy posilující lektavy","Description":"zápach a chuť jsou přebity silným pachem lihu","requiredKnowlegde":"Alchymistická anatomie","base":["alkohol","vnitřní orgány"],"mana":590,"resources":65,"difficulty":8,"duration":15},{"ID":"047","Name":"Světloplach","Description":"jemný lehký světélkující prášek","requiredKnowlegde":"Krystaly a energie","base":["drcený drahokam, nejčastějí opál"],"mana":5,"resources":20,"difficulty":6,"duration":120},{"ID":"048","Name":"Vak beztíže","Description":"běžně vypadající vak na cesty","requiredKnowlegde":"Hvězdné sestavy","base":["pytel"],"mana":45,"resources":90,"difficulty":14,"duration":0},{"ID":"049","Name":"Výbušná hlína","Description":"hliněná koule o velikosti lidské pěsti","requiredKnowlegde":"Nestabilní substance","base":["hlína"],"mana":12,"resources":15,"difficulty":10,"duration":0}]'),P=document.getElementById("manaSum"),j=document.getElementById("resSum"),x=document.getElementById("gold"),_=document.getElementById("silver"),R=document.getElementById("bronze");let d=0,c=0,Z=30,B=3,D=0,m=0,p=0;function v(e){d=0,c=0,e.forEach(r=>{d+=r.mana*r.quantity,c+=r.resources*r.quantity}),P.textContent=d.toString(),j.textContent=c.toString(),p=Z*d+B*c,m=Math.floor(p/10),p%=10,D=Math.floor(m/10),m%=10,x.textContent=D.toString()+" zl",_.textContent=m.toString()+" st",R.textContent=p.toString()+" md"}const l=N(M),H=document.getElementById("recipes"),A=document.getElementById("reset");window.onload=()=>{O(l),v(l)};function O(e){e.forEach(r=>{H.appendChild(K(r))})}document.addEventListener("updatePage",()=>{v(l),w()});A.addEventListener("click",()=>{const e=document.getElementsByClassName("counter");l.forEach((r,n)=>{e[n].textContent="0",r.quantity=0,localStorage.setItem(r.ID,r.quantity.toString())}),w(),v(l)});function w(){const e=document.getElementsByClassName("manaRecipeSum"),r=document.getElementsByClassName("resourcesRecipeSum");l.forEach((n,a)=>{r[a].textContent=(n.resources*n.quantity).toString(),e[a].textContent=(n.mana*n.quantity).toString()})}
